// AUTOGENERATED FILE, DO NOT MODIFY!  
    
import UIKit

public final class AppContainer: AppContainerProtocol {
    public private(set) lazy var singletonLoggerProtocol: LoggerProtocol = buildLoggerProtocol()

    private(set) lazy var singletonNetworkManagerProtocol: NetworkManagerProtocol = buildNetworkManagerProtocol()

    private(set) lazy var singletonSessionManagerProtocol: SessionManagerProtocol = buildSessionManagerProtocol()

    private(set) lazy var singletonSessionPersistenceProtocol: SessionPersistenceProtocol = buildSessionPersistenceProtocol()

    public init() {}

    public func buildInitialCoordinatorProtocol() -> CoordinatorProtocol {
        return InitialCoordinator(
            appContainer: self
        )
    }

    internal func buildIntroViewModel(
        coordinator: IntroCoordinatorProtocol
    ) -> IntroViewModel {
        return IntroViewModel(
            logger: self.singletonLoggerProtocol,
            coordinator: coordinator
        )
    }

    internal func buildLoggedOutCoordinator(
        delegate: LoggedOutCoordinatorDelegate
    ) -> LoggedOutCoordinator {
        return LoggedOutCoordinator(
            appContainer: self,
            delegate: delegate
        )
    }

    private func buildLoggerProtocol() -> LoggerProtocol {
        return PrintLogger(
        )
    }

    internal func buildLoginApiClientProtocol() -> LoginApiClientProtocol {
        return LoginApiClient(
            networkManager: self.singletonNetworkManagerProtocol
        )
    }

    internal func buildLoginViewModel(
        coordinator: LoginCoordinatorProtocol
    ) -> LoginViewModel {
        return LoginViewModel(
            logger: self.singletonLoggerProtocol,
            apiClient: self.buildLoginApiClientProtocol(),
            coordinator: coordinator
        )
    }

    private func buildNetworkManagerProtocol() -> NetworkManagerProtocol {
        return NetworkManager(
            sessionManager: self.singletonSessionManagerProtocol
        )
    }

    private func buildSessionManagerProtocol() -> SessionManagerProtocol {
        return SessionManager(
            persistence: self.singletonSessionPersistenceProtocol,
            logger: self.singletonLoggerProtocol
        )
    }

    private func buildSessionPersistenceProtocol() -> SessionPersistenceProtocol {
        return UserDefaultsPersistence(
        )
    }
}


import UIKit

internal final class MainContainer: MainContainerProtocol {

    public struct ExternalDependency<T> {
        let closure: () -> T
        
        init(closure: @escaping () -> T) {
            self.closure = closure
        }
        
        public static func constant(_ value: T) -> Self {
            .init(closure: { value })
        }
        
        public static func builder(_ closure: @escaping () -> T) -> Self {
            .init(closure: closure)
        }
    }

    let externalLoggerProtocol: () -> LoggerProtocol

    let externalSession: () -> Session

    let externalSessionManagerProtocol: () -> SessionManagerProtocol

    let externalUser: () -> User

    private(set) lazy var singletonShortDateFormatter: DateFormatter = buildShortDateFormatter()

    public init(
        loggerProtocol: ExternalDependency<LoggerProtocol>,
        session: ExternalDependency<Session>,
        sessionManagerProtocol: ExternalDependency<SessionManagerProtocol>,
        user: ExternalDependency<User>
    ) {
        self.externalLoggerProtocol = loggerProtocol.closure
        self.externalSession = session.closure
        self.externalSessionManagerProtocol = sessionManagerProtocol.closure
        self.externalUser = user.closure
    }

    private func buildShortDateFormatter() -> DateFormatter {
        return providesShortDateFormatter(
        )
    }

    internal func buildMainCoordinator() -> MainCoordinator {
        return MainCoordinator(
            mainContainer: self
        )
    }

    internal func buildSettingsCoordinator() -> SettingsCoordinator {
        return SettingsCoordinator(
            mainContainer: self
        )
    }

    internal func buildSettingsViewModel(
        coordinator: SettingsCoordinatorProtocol
    ) -> SettingsViewModel {
        return SettingsViewModel(
            session: self.externalSession(),
            sessionManager: self.externalSessionManagerProtocol(),
            logger: self.externalLoggerProtocol(),
            dateFormatter: self.singletonShortDateFormatter,
            coordinator: coordinator
        )
    }

    internal func buildUserNameString() -> String {
        return providesUserName(
            user: self.externalUser()
        )
    }

    internal func buildUserCoordinator() -> UserCoordinator {
        return UserCoordinator(
            mainContainer: self
        )
    }

    internal func buildUserViewModel(
        coordinator: UserCoordinatorProtocol
    ) -> UserViewModel {
        return UserViewModel(
            name: self.buildUserNameString(),
            logger: self.externalLoggerProtocol(),
            coordinator: coordinator
        )
    }
}
